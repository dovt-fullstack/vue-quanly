import{d as R,U,s as V,a as h,a0 as T,x as s,y as v,W as D,F as a,Q as J,V as M,C as r,b as t,I as _,E as q,z as F,M as N,a2 as P,J as Q,K as z}from"./index-cdcf547c.js";import{u as E}from"./use-menu-b48628b9.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";const K=R({setup(){E().onSelectedKeys(["admin-users"]),U();const e=V(),n="http://localhost:9000",y=h(),k=h({});h();const S=e.params.id,I=JSON.parse(localStorage.getItem("auth")).storeId,f=JSON.parse(localStorage.getItem("token")),l=e.query.productName,c=e.query.price,i=e.query.quantity;console.log(e);const u=i?parseInt(i):0,m=c?parseFloat(c):0,o=h({quantity:u,price:m}),b={productName:[{required:!0,message:"Tên sản phẩm không để trống.",trigger:"change"}],price:[{required:!0,message:"Giá không để trống.",trigger:"change"}],description:[{required:!0,message:"Mô tả không để trống.",trigger:"change"}],productType:[{required:!0,message:"Loại sản phẩm không để trống.",trigger:"change"}]},d={labelCol:{span:4},wrapperCol:{span:14}},$=()=>{y.value.resetFields()},C=()=>{history.length>1?history.go(-1):this.$router.push("/")},w=p=>{const g=p.target.files[0];o.avatarFile=g},B=()=>{const p=new FormData;p.append("quantity",o.value.quantity),p.append("price",o.value.price),J.put(`${n}/api/v1/management/${I}/import/edit/${S}`,p,{headers:{Authorization:`Bearer ${f}`}}).then(g=>{M.success("sửa thành công!"),C()}).catch(g=>{console.log(g)})};return{...T(o),errors:k,productName:l,price:c,quantity:i,formRef:y,rules:b,layout:d,formState:o,resetForm:$,handleFileUpload:w,createUsers:B,goBack:C}}}),L=e=>(Q("data-v-e87fa704"),e=e(),z(),e),O={class:"row mb-3"},A={class:"col-12"},H={class:"col-12 col-sm-12 mb-3"},W={class:"row"},j={class:"col-12"},X={key:0,class:"text-danger"},Y={key:0,class:"text-danger"},Z=L(()=>r("span",null,"Quay lại",-1));function x(e,n,y,k,S,I){const f=s("router-link"),l=s("a-breadcrumb-item"),c=s("a-breadcrumb"),i=s("a-input"),u=s("a-form-item"),m=s("a-button"),o=s("a-form"),b=s("a-card");return v(),D(b,{style:{width:"100%"}},{default:a(()=>[r("div",O,[r("div",A,[t(c,null,{default:a(()=>[t(l,null,{default:a(()=>[t(f,{to:{name:"admin-dashboards"}},{default:a(()=>[_("Trang chủ")]),_:1})]),_:1}),t(l,null,{default:a(()=>[t(f,{to:{name:"admin-users"}},{default:a(()=>[_("Hóa đơn")]),_:1})]),_:1}),t(l,null,{default:a(()=>[_("sửa")]),_:1})]),_:1}),r("h1",null,"Sửa hóa đơn sản phẩm: "+q(e.productName),1)]),r("div",H,[t(o,P({class:"p-3",name:"custom-validation",ref:"formRef",model:e.formState,rules:e.rules},e.layout,{onFinish:e.createUsers}),{default:a(()=>[r("div",W,[r("div",j,[t(u,{ref:"quantity",label:"Số lượng",required:"",name:"quantity"},{default:a(()=>[t(i,{value:e.formState.quantity,"onUpdate:value":n[0]||(n[0]=d=>e.formState.quantity=d)},null,8,["value"]),e.errors&&e.errors.quantity?(v(),F("small",X,q(e.errors.quantity[0]),1)):N("",!0)]),_:1},512),t(u,{ref:"price",label:"Giá",required:"",name:"price"},{default:a(()=>[t(i,{value:e.formState.price,"onUpdate:value":n[1]||(n[1]=d=>e.formState.price=d)},null,8,["value"]),e.errors&&e.errors.price?(v(),F("small",Y,q(e.errors.price[0]),1)):N("",!0)]),_:1},512),t(u,{"wrapper-col":{span:14,offset:4}},{default:a(()=>[t(m,{onClick:e.goBack,class:"me-0 me-sm-2 mb-3 mb-sm-0"},{default:a(()=>[Z]),_:1},8,["onClick"]),t(m,{class:"me-0 me-sm-2 mb-3 mb-sm-0 bg-info text-light",onClick:e.resetForm},{default:a(()=>[_("Reset")]),_:1},8,["onClick"]),t(m,{type:"primary","html-type":"submit",class:"bg-success"},{default:a(()=>[_("Lưu")]),_:1})]),_:1})])])]),_:1},16,["model","rules","onFinish"])])])]),_:1})}const se=G(K,[["render",x],["__scopeId","data-v-e87fa704"]]);export{se as default};
