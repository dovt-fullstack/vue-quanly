import{d as N,a as b,s as H,U as S,t as I,x as T,y as u,z as m,b as k,C as t,E as s,p as $,a4 as q,I as D,V as _,O as B,J as L,K as x}from"./index-cdcf547c.js";import"./use-menu-b48628b9.js";import{H as G}from"./HeaderCustomer-c7f48903.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";const M=N({components:{Header:G},setup(){const e=b({});b(0);const o="http://localhost:9000",c=H(),p=c.params.id,v=c.query.storePhone,g=S(),h=JSON.parse(localStorage.getItem("auth")),l=JSON.parse(localStorage.getItem("token")),d=async()=>{try{const a=await axios.get(`${o}/api/v1/product/info/${p}`,{headers:{Authorization:`Bearer ${l}`}});a.data.status==="OK"?e.value=a.data.data:console.error(a.data.message)}catch(a){console.error(a)}},f=()=>{history.length>1?history.go(-1):this.$router.push("/")},y=()=>{const a=Number(numberItem.value);a<1?alert("Số lượng tối thiểu là 1"):a>e.value.quantity?alert(`Số lượng không được vượt quá ${e.value.quantity}`):C(a)},w=async()=>{const a=Number(numberItem.value);if(a<1)alert("Số lượng tối thiểu là 1");else if(a>e.value.quantity)alert(`Số lượng không được vượt quá ${e.value.quantity}`);else{const i=new FormData;i.append("productid",p),i.append("quantity",a),axios.post(`${o}/api/v1/customer/order/insert`,i,{headers:{Authorization:`Bearer ${l}`}}).then(r=>{_.success("Đặt hàng thành công, hãy xem trạng thái đơn hàng của bạn")}).catch(r=>{console.log(r)})}},C=async a=>{const i=new FormData;i.append("productid",p),i.append("quantity",a),axios.post(`${o}/api/v1/customer/cartitem/insert`,i,{headers:{Authorization:`Bearer ${l}`}}).then(r=>{_.success("Thêm vào giỏ hàng thành công")}).catch(r=>{console.log(r)})};return I(()=>{d()}),{numberItem:1,product:e,router:g,route:c,userLocal:h,handelAddCart:y,handelByNow:w,phone:v,goBack:f}}}),n=e=>(L("data-v-22b3772d"),e=e(),x(),e),P={id:"wrapper"},A={id:"main"},V={class:"wrap"},z={id:"seo",class:"f flexJus"},E={class:"beadcrum",itemscope:"",itemtype:"https://schema.org/BreadcrumbList"},J={itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},U={itemprop:"name"},R=n(()=>t("meta",{itemprop:"position",content:"1"},null,-1)),F={itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},K={itemprop:"item"},Q={itemprop:"name"},W=n(()=>t("meta",{itemprop:"position",content:"2"},null,-1)),Y={class:"f",itemscope:"",itemtype:"http://schema.org/Product"},j={class:"wrap flexCol"},X={class:"f bgwhite p15"},Z={id:"pLeft",class:"rl"},tt={class:"f box-zoom flexCen"},et={id:"anhdd",class:"f larimg"},at=["src"],ot={class:"w50 fr flexC",style:{padding:"0 5%"}},st={itemprop:"name",class:"pname"},nt={class:"priced"},dt={key:0},it={key:1},lt={class:"f gtb"},rt={class:"edit-number"},ct=n(()=>t("p",null,"Số lượng:",-1)),pt={class:"dvdq flexC"},ht=n(()=>t("label",null,"Mua ngay và thưởng thức dịch vụ độc quyền",-1)),ut={class:"ron"},mt={class:"ron"},vt={class:"ron"},gt=n(()=>t("li",{class:"ron"},"Đổi sản phẩm lỗi trong vòng 30 ngày",-1)),bt=n(()=>t("li",{class:"ron"},"Cam kết giá rẻ nhất",-1)),_t=n(()=>t("span",{class:"btn2 bcam btnorder"},[t("b",null,"THÊM VÀO GIỎ HÀNG"),t("i")],-1)),ft=[_t],yt=n(()=>t("span",{class:"btn2 bcam btnorder"},[t("b",null,"MUA NGAY"),t("i",null,"Mua ngay để hưởng nhiều ưu đãi")],-1)),wt=[yt],Ct={class:"bphone"},Nt=B('<div id="footer" data-v-22b3772d><div class="f" style="padding:40px 0;" data-v-22b3772d><div class="wrap flexJus" data-v-22b3772d><div class="f flex" data-v-22b3772d><div class="fotb" style="width:30%;padding-right:30px;" data-v-22b3772d><img src="https://denled.com/Content/img/logo-foot.png" alt="Denled.com" width="286" height="60" data-v-22b3772d></div><div class="fotb" style="width:50%;padding:0 40px 0 60px;" data-v-22b3772d><label data-v-22b3772d>SHOWROOM</label><div class="muahang f flexC" data-v-22b3772d><div class="showrooms" data-v-22b3772d><ul data-v-22b3772d><li data-v-22b3772d>Hệ thống hỗ trợ quản lí và bán hàng tạp hóa</li><li data-v-22b3772d><span data-v-22b3772d>Địa chỉ 1 : </span>21C Trần Duy Hưng, Cầu Giấy, HN </li><li data-v-22b3772d><span data-v-22b3772d>Hotline : </span><a href="tel:0933665115" data-v-22b3772d>0933.66.5115</a></li></ul></div></div></div><div class="fotb" data-v-22b3772d><label data-v-22b3772d>THÔNG TIN - HƯỚNG DẪN</label><ul data-v-22b3772d><li data-v-22b3772d><a title="Giới Thiệu Hệ Thống" rel="nofollow" href="/" data-v-22b3772d>Giới Thiệu Hệ Thống</a></li><li data-v-22b3772d><a title="Giao hàng &amp; Thanh toán" rel="nofollow" href="/" data-v-22b3772d>Giao hàng &amp; Thanh toán</a></li><li data-v-22b3772d><a title="Hướng dẫn mua hàng Online" rel="nofollow" href="/" data-v-22b3772d>Hướng dẫn mua hàng Online</a></li><li data-v-22b3772d><a title="Quy chế hoạt động" rel="nofollow" href="/" data-v-22b3772d>Quy chế hoạt động</a></li></ul></div></div></div></div><div class="f p10 cen trang copyright" data-v-22b3772d> © 2024 bản quyền thuộc về HungNL@gmail.com <a href="https://denled.com" title="Siêu thị đèn LED" data-v-22b3772d>denled.com</a></div><ul id="panel" data-v-22b3772d><li data-v-22b3772d><img src="https://denled.com/Content/img/totop.svg" alt="To top" width="45" height="45" data-v-22b3772d></li><li style="padding-top:10px;padding-bottom:10px;" data-v-22b3772d><img alt="Messenger" src="https://denled.com/Content/img/messenger.svg" width="45" height="45" data-v-22b3772d></li><li data-v-22b3772d><img alt="Phone" src="https://denled.com/Content/img/phone.svg" width="45" height="45" data-v-22b3772d></li></ul><div class="zalo-chat-widget" data-oaid="2839194858446814357" data-welcome-message="Rất vui khi được hỗ trợ bạn!. Nếu bạn không thể chờ thì hãy gọi hoặc nhắn tin đến số điện thoại này 0973.66.5115." data-autopopup="1800" data-width="500" data-height="500" style="right:12px;" data-v-22b3772d></div></div>',1);function Ht(e,o,c,p,v,g){var l;const h=T("Header");return u(),m("div",P,[k(h),t("div",A,[t("div",V,[t("div",z,[t("ul",E,[t("li",J,[t("a",{itemprop:"item",onClick:o[0]||(o[0]=(...d)=>e.goBack&&e.goBack(...d))},[t("span",U,s(e.product.storeName?e.product.storeName.toUpperCase():""),1)]),R]),t("li",F,[t("p",K,[t("span",Q,s(e.product.productType?e.product.productType.toUpperCase():""),1)]),W])])])]),t("div",Y,[t("div",j,[t("div",X,[t("div",Z,[t("div",tt,[t("div",et,[t("img",{src:e.product.avatarProduct,itemprop:"image"},null,8,at)])])]),t("div",ot,[t("h1",st,s(e.product.productName),1),t("span",nt,[t("u",null,s((l=e.product.price)==null?void 0:l.toLocaleString())+"₫",1),e.product.discount&&e.product.discount!==0?(u(),m("b",dt,s((e.product.price*(100-e.product.discount)/100).toLocaleString())+"₫ ",1)):(u(),m("b",it,s(e.product.price)+"₫ ",1))]),t("div",lt,[t("label",null,s(e.product.view)+" Lượt xem",1)]),t("div",rt,[ct,$(t("input",{id:"numberItem",type:"number",class:"input","onUpdate:modelValue":o[1]||(o[1]=d=>e.numberItem=d),min:1,style:{padding:"5px 8px","border-radius":"5px",width:"70x"}},null,512),[[q,e.numberItem]])]),t("div",pt,[ht,t("ul",null,[t("li",ut,"Tên cửa hàng : "+s(e.product.storeName),1),t("li",mt,"Số lượng : "+s(e.product.quantity),1),t("li",vt,"Mô tả sản phẩm : "+s(e.product.description),1),gt,bt])]),t("div",{onClick:o[2]||(o[2]=d=>e.handelAddCart()),class:"action"},ft),t("div",{onClick:o[3]||(o[3]=d=>e.handelByNow()),class:"action"},wt),t("ul",Ct,[t("li",null,[D("Số điện thoại của cửa hàng "),t("b",null,s(e.phone),1)])])])])])])]),Nt])}const $t=O(M,[["render",Ht],["__scopeId","data-v-22b3772d"]]);export{$t as default};
