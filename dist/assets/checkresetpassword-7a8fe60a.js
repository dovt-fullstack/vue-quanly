import{d as w,q as g,r as _,t as b,c as y,x as d,y as k,z as x,C as o,b as i,F as r,Q as F,V as f,O as S,J as A,K as z}from"./index-cdcf547c.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";const P=w({setup(){const s="http://localhost:9000";g();const a=_({token:"",newPassword:""});b(()=>{localStorage.clear()});const m=t=>{const{token:n,password:c}=t,h={token:n,newPassword:c};F.post(`${s}/api/v1/auth/resetpassword`,h).then(e=>{console.log(e.data),f.success("Thay đổi thành công!"),window.location.href="/login"}).catch(e=>{console.log(e),e.response&&e.response.status==400?(p("Thất bại!","Mã không đúng hoặc đã hết hạn!"),console.log(e.response)):p("Thất bại!","Có lỗi xảy ra!")})},u=t=>{console.log("Failed:",t)},v=y(()=>!(a.token&&a.password)),p=(t,n)=>{f.error({content:n,duration:2})};return{formState:a,onFinishFailed:u,onFinish:m,disabled:v}}}),l=s=>(A("data-v-72a12db9"),s=s(),z(),s),V={class:"login-style sapo-sso"},q={class:"container form form-login"},C=S('<div class="login-form-view" data-v-72a12db9><div class="header" data-v-72a12db9><div class="header-image" data-v-72a12db9><img class="fade show sapo-logo" alt="Sapo" src="https://res.cloudinary.com/dqvr7kat6/image/upload/v1718268402/zu43thyvdywlzfuhxfm6.webp" data-v-72a12db9></div><div class="title mt-3" data-v-72a12db9><h1 class="title-center h4" data-v-72a12db9>Nhập mã khôi phục mật khẩu</h1></div></div></div>',1),H={class:"login-form-view login-form-block"},N={class:"form-group",id:"password-input-wrapper"},I=l(()=>o("div",{class:"has-error padding-md-left padding-sm-top"},[o("span",{class:"help-block"},[o("label",{for:"password",class:"help-block field-validation-valid"})])],-1)),j={class:"form-group",id:"password-input-wrapper"},L=l(()=>o("div",{class:"has-error padding-md-left padding-sm-top"},[o("span",{class:"help-block"},[o("label",{for:"password",class:"help-block field-validation-valid"})])],-1)),T={class:"form-login-info"},U={class:"form-group position-relative",id:"username-input-wrapper"},W=l(()=>o("div",{class:"mb-3 justify-content-center d-none",id:"g-recaptcha-wrapper"},[o("div",{class:"g-recaptcha","data-sitekey":"6LcyV7InAAAAAK-HaWzFi2P6qGdW0jrspU54bMxo"},[o("div",{style:{width:"304px",height:"78px"}},[o("div",null,[o("iframe",{title:"reCAPTCHA",width:"304",height:"78",role:"presentation",name:"a-fxam4sgkl0fb",frameborder:"0",scrolling:"no",sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation",src:"https://www.google.com/recaptcha/api2/anchor?ar=1&k=6LcyV7InAAAAAK-HaWzFi2P6qGdW0jrspU54bMxo&co=aHR0cHM6Ly9hY2NvdW50cy5zYXBvLnZuOjQ0Mw..&hl=vi&v=joHA60MeME-PNviL59xVH9zs&size=normal&cb=u8rsfktzedhv"})]),o("textarea",{id:"g-recaptcha-response",name:"g-recaptcha-response",class:"g-recaptcha-response",style:{width:"250px",height:"40px",border:"1px solid rgb(193, 193, 193)",margin:"10px 25px",padding:"0px",resize:"none",display:"none"}})]),o("iframe",{style:{display:"none"}})])],-1)),$=l(()=>o("div",{class:"text-center mb-3",style:{clear:"both"}},[o("button",{class:"btn-login",type:"submit"},"Xác thực")],-1));function B(s,a,m,u,v,p){const t=d("a-input-password"),n=d("a-form-item"),c=d("a-input"),h=d("a-form");return k(),x("div",V,[o("div",q,[C,o("div",H,[i(h,{model:s.formState,onFinish:s.onFinish,onFinishFailed:s.onFinishFailed,id:"pos-login-form",class:"content mt-4",autocomplete:"off",name:"normal_login",novalidate:"novalidate"},{default:r(()=>[o("div",N,[i(n,{name:"password",autocomplete:"off",rules:[{required:!0,message:"Please input your password!"}]},{default:r(()=>[i(t,{class:"password-login",id:"password",name:"password",placeholder:"Mật khẩu mới của bạn",type:"password",autocomplete:"current-password",value:s.formState.password,"onUpdate:value":a[0]||(a[0]=e=>s.formState.password=e)},null,8,["value"])]),_:1}),I]),o("div",j,[i(n,{name:"password",autocomplete:"off",rules:[{required:!0,message:"Please input your password!"}]},{default:r(()=>[i(t,{class:"password-login",id:"password",name:"password",placeholder:"Nhập lại mật khẩu mới của bạn",type:"password",value:s.formState.retypepassword,"onUpdate:value":a[1]||(a[1]=e=>s.formState.retypepassword=e)},null,8,["value"])]),_:1}),L]),o("div",T,[o("div",U,[i(n,{name:"token",rules:[{required:!0,message:"Please input token!"}]},{default:r(()=>[i(c,{placeholder:"Mã khôi phục mật khẩu",class:"form-input country-phone-input valid",value:s.formState.token,"onUpdate:value":a[2]||(a[2]=e=>s.formState.token=e)},{prefix:r(()=>[]),_:1},8,["value"])]),_:1})])]),W,$]),_:1},8,["model","onFinish","onFinishFailed"])])])])}const G=M(P,[["render",B],["__scopeId","data-v-72a12db9"]]);export{G as default};
